/**
 * PUI Tailwind Integration — Source-level consumption
 *
 * Import this AFTER `tailwindcss` in your project's CSS.
 * Provides PUI's theme tokens, utilities, variants, and plugins
 * WITHOUT a second Tailwind runtime.
 *
 * Usage:
 *   @import 'tailwindcss';
 *   @import '@perimetre/ui/tailwind';
 *   @import '@perimetre/ui/tailwind/sprig.css';
 *   @source '../../node_modules/@perimetre/ui/dist/es';
 *
 * Note: Does NOT include tailwindcss/theme.css — your project provides it
 *       via @import 'tailwindcss'.
 * Note: Does NOT include brand tokens — import the brand file separately.
 * Note: You MUST add @source pointing to PUI's dist/es directory so
 *       Tailwind can scan PUI component class names.
 */

/* PUI CSS layer ordering — must be declared for proper cascade */
@layer pui.primitive, pui.semantic, pui.theme;

/* Theme bridge: @theme inline + @utility + @custom-variant */
@import '../brands/tailwind.css';

/* Animations */
@import 'tw-animate-css';

/*
 * PUI namespace variant — makes the consumer's single Tailwind instance
 * generate CSS for pui:-prefixed class names used in PUI components.
 *
 * pui:flex  → .pui\:flex:where([data-pui-brand] *, [data-pui-brand]) { display: flex }
 *
 * Scoped to [data-pui-brand] so PUI utilities only apply inside branded elements.
 */
@custom-variant pui (&:where([data-pui-brand] *, [data-pui-brand]));

/* Tailwind plugins */
@plugin '@tailwindcss/typography';
@plugin '@tailwindcss/forms' {
  strategy: 'class';
}

/* Base theme — brand font applied to all branded elements */
@layer pui.theme {
  [data-pui-brand] {
    font-family: var(--font-pui-sans);
  }
}
